!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/platform-browser"],e):e(t["ng2-image-crop"]={},t.ng.core,t.ng.common,t.ng.platformBrowser)}(this,function(t,r,e,i){"use strict";function o(t){try{var e=function h(t){var e=new DataView(function p(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var e=atob(t),i=e.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=e.charCodeAt(o);return r.buffer}(t));if(65496!=e.getUint16(0,!1))return-2;var i=e.byteLength,r=2;for(;r<i;){if(e.getUint16(r+2,!1)<=8)return-1;var o=e.getUint16(r,!1);if(r+=2,65505==o){if(1165519206!=e.getUint32(r+=2,!1))return-1;var s=18761==e.getUint16(r+=6,!1);r+=e.getUint32(r+4,s);var a=e.getUint16(r,s);r+=2;for(var n=0;n<a;n++)if(274==e.getUint16(r+12*n,s))return e.getUint16(r+12*n+8,s)}else{if(65280!=(65280&o))break;r+=e.getUint16(r,!1)}}return-1}(t);return 1<e?s(t,e):Promise.resolve(t)}catch(i){return Promise.reject(i)}}function s(t,p){return new Promise(function(s,a){var n=new Image;n.onload=function(){var t=n.width,e=n.height,i=document.createElement("canvas"),r=i.getContext("2d");r?(4<p&&p<9?(i.width=e,i.height=t):(i.width=t,i.height=e),function o(t,e,i,r){switch(e){case 2:t.transform(-1,0,0,1,i,0);break;case 3:t.transform(-1,0,0,-1,i,r);break;case 4:t.transform(1,0,0,-1,0,r);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,r,0);break;case 7:t.transform(0,-1,-1,0,r,i);break;case 8:t.transform(0,-1,1,0,0,i)}}(r,p,t,e),r.drawImage(n,0,0),s(i.toDataURL())):a(new Error("No context"))},n.src=t})}var a=(Object.defineProperty(n.prototype,"imageFileChanged",{set:function(t){this.initCropper(),t&&this.loadImageFile(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageChangedEvent",{set:function(t){this.initCropper(),t&&t.target&&t.target.files&&0<t.target.files.length&&this.loadImageFile(t.target.files[0])},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageBase64",{set:function(t){this.initCropper(),this.checkExifAndLoadBase64Image(t)},enumerable:!0,configurable:!0}),n.prototype.ngOnChanges=function(t){t.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),t.aspectRatio&&this.imageVisible&&this.resetCropperPosition()},n.prototype.initCropper=function(){this.imageVisible=!1,this.originalImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.originalSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4},n.prototype.loadImageFile=function(i){var r=this,t=new FileReader;t.onload=function(t){var e=i.type;r.isValidImageType(e)?r.checkExifAndLoadBase64Image(t.target.result):r.loadImageFailed.emit()},t.readAsDataURL(i)},n.prototype.isValidImageType=function(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff)/.test(t)},n.prototype.checkExifAndLoadBase64Image=function(t){var e=this;o(t).then(function(t){return e.fitImageToAspectRatio(t)}).then(function(t){return e.loadBase64Image(t)})["catch"](function(){return e.loadImageFailed.emit()})},n.prototype.fitImageToAspectRatio=function(t){return this.containWithinAspectRatio?function e(t,h){return new Promise(function(a,n){var p=new Image;p.onload=function(){var t=document.createElement("canvas"),e=t.getContext("2d");if(e){var i=p.height*h,r=p.width/h;t.width=Math.max(p.width,i),t.height=Math.max(p.height,r);var o=(t.width-p.width)/2,s=(t.height-p.height)/2;e.drawImage(p,o,s),a(t.toDataURL())}else n(new Error("No context"))},p.src=t})}(t,this.aspectRatio):Promise.resolve(t)},n.prototype.loadBase64Image=function(t){var e=this;this.originalBase64=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t),this.originalImage=new Image,this.originalImage.onload=function(){e.originalSize.width=e.originalImage.width,e.originalSize.height=e.originalImage.height,e.cd.markForCheck()},this.originalImage.src=t},n.prototype.imageLoadedInView=function(){var t=this;null!=this.originalImage&&(this.imageLoaded.emit(),this.setImageMaxSizeRetries=0,setTimeout(function(){return t.checkImageMaxSizeRecursively()}))},n.prototype.checkImageMaxSizeRecursively=function(){var t=this;40<this.setImageMaxSizeRetries?this.loadImageFailed.emit():this.sourceImage&&this.sourceImage.nativeElement&&0<this.sourceImage.nativeElement.offsetWidth?(this.setMaxSize(),this.setCropperScaledMinSize(),this.resetCropperPosition(),this.cropperReady.emit(),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(function(){t.checkImageMaxSizeRecursively()},50))},n.prototype.onResize=function(){this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize()},n.prototype.rotateLeft=function(){this.transformBase64(8)},n.prototype.rotateRight=function(){this.transformBase64(6)},n.prototype.flipHorizontal=function(){this.transformBase64(2)},n.prototype.flipVertical=function(){this.transformBase64(4)},n.prototype.transformBase64=function(t){var e=this;this.originalBase64&&s(this.originalBase64,t).then(function(t){return e.fitImageToAspectRatio(t)}).then(function(t){return e.loadBase64Image(t)})},n.prototype.resizeCropperPosition=function(){var t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)},n.prototype.resetCropperPosition=function(){var t=this.sourceImage.nativeElement;if(this.maintainAspectRatio)if(t.offsetWidth/this.aspectRatio<t.offsetHeight){this.cropper.x1=0,this.cropper.x2=t.offsetWidth;var e=t.offsetWidth/this.aspectRatio;this.cropper.y1=(t.offsetHeight-e)/2,this.cropper.y2=this.cropper.y1+e}else{this.cropper.y1=0,this.cropper.y2=t.offsetHeight;var i=t.offsetHeight*this.aspectRatio;this.cropper.x1=(t.offsetWidth-i)/2,this.cropper.x2=this.cropper.x1+i}else this.cropper.x1=0,this.cropper.x2=t.offsetWidth,this.cropper.y1=0,this.cropper.y2=t.offsetHeight;this.doAutoCrop(),this.imageVisible=!0},n.prototype.startMove=function(t,e,i){void 0===i&&(i=null),t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:i,clientX:this.getClientX(t),clientY:this.getClientY(t)},this.cropper)},n.prototype.moveImg=function(t){this.moveStart.active&&(t.stopPropagation(),t.preventDefault(),"move"===this.moveStart.type?(this.move(t),this.checkCropperPosition(!0)):"resize"===this.moveStart.type&&(this.resize(t),this.checkCropperPosition(!1)),this.cd.detectChanges())},n.prototype.setMaxSize=function(){var t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")},n.prototype.setCropperScaledMinSize=function(){this.originalImage?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)},n.prototype.setCropperScaledMinWidth=function(){this.cropperScaledMinWidth=0<this.cropperMinWidth?Math.max(20,this.cropperMinWidth/this.originalImage.width*this.maxSize.width):20},n.prototype.setCropperScaledMinHeight=function(){this.maintainAspectRatio?this.cropperScaledMinHeight=Math.max(20,this.cropperScaledMinWidth/this.aspectRatio):0<this.cropperMinHeight?this.cropperScaledMinHeight=Math.max(20,this.cropperMinHeight/this.originalImage.height*this.maxSize.height):this.cropperScaledMinHeight=20},n.prototype.checkCropperPosition=function(t){void 0===t&&(t=!1),this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)},n.prototype.moveStop=function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())},n.prototype.move=function(t){var e=this.getClientX(t)-this.moveStart.clientX,i=this.getClientY(t)-this.moveStart.clientY;this.cropper.x1=this.moveStart.x1+e,this.cropper.y1=this.moveStart.y1+i,this.cropper.x2=this.moveStart.x2+e,this.cropper.y2=this.moveStart.y2+i},n.prototype.resize=function(t){var e=this.getClientX(t)-this.moveStart.clientX,i=this.getClientY(t)-this.moveStart.clientY;switch(this.moveStart.position){case"left":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth);break;case"topleft":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+i,this.cropper.y2-this.cropperScaledMinHeight);break;case"top":this.cropper.y1=Math.min(this.moveStart.y1+i,this.cropper.y2-this.cropperScaledMinHeight);break;case"topright":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+i,this.cropper.y2-this.cropperScaledMinHeight);break;case"right":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth);break;case"bottomright":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+i,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottom":this.cropper.y2=Math.max(this.moveStart.y2+i,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottomleft":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+i,this.cropper.y1+this.cropperScaledMinHeight)}this.maintainAspectRatio&&this.checkAspectRatio()},n.prototype.checkAspectRatio=function(){var t=0,e=0;switch(this.moveStart.position){case"top":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(0-this.cropper.y1,0),(0<t||0<e)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"bottom":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(0<t||0<e)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"topleft":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(0-this.cropper.x1,0),e=Math.max(0-this.cropper.y1,0),(0<t||0<e)&&(this.cropper.x1+=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"topright":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(0-this.cropper.y1,0),(0<t||0<e)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"right":case"bottomright":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(0<t||0<e)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"left":case"bottomleft":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(0-this.cropper.x1,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(0<t||0<e)&&(this.cropper.x1+=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio)}},n.prototype.doAutoCrop=function(){this.autoCrop&&this.crop()},n.prototype.crop=function(t){if(void 0===t&&(t=this.outputType),this.sourceImage.nativeElement&&null!=this.originalImage){this.startCropImage.emit();var e=this.getImagePosition(),i=e.x2-e.x1,r=e.y2-e.y1,o=document.createElement("canvas");o.width=i,o.height=r;var s=o.getContext("2d");if(s){null!=this.backgroundColor&&(s.fillStyle=this.backgroundColor,s.fillRect(0,0,i,r)),s.drawImage(this.originalImage,e.x1,e.y1,i,r,0,0,i,r);var a={width:i,height:r,imagePosition:e,cropperPosition:Object.assign({},this.cropper)},n=this.getResizeRatio(i,r);return 1!==n&&(a.width=Math.round(i*n),a.height=this.maintainAspectRatio?Math.round(a.width/this.aspectRatio):Math.round(r*n),function F(t,e,i,r){void 0===r&&(r=!0);var o=t.width,s=t.height,a=o/(e=Math.round(e)),n=s/(i=Math.round(i)),p=Math.ceil(a/2),h=Math.ceil(n/2),c=t.getContext("2d");if(c){for(var m=c.getImageData(0,0,o,s),l=c.createImageData(e,i),g=m.data,u=l.data,d=0;d<i;d++)for(var f=0;f<e;f++){var y=4*(f+d*e),x=d*n,v=0,b=0,z=0,M=0,S=0,w=0,I=0,C=Math.floor(f*a),R=Math.floor(d*n),A=Math.ceil((f+1)*a),k=Math.ceil((d+1)*n);A=Math.min(A,o),k=Math.min(k,s);for(var H=R;H<k;H++)for(var E=Math.abs(x-H)/h,W=f*a,T=E*E,B=C;B<A;B++){var P=Math.abs(W-B)/p,U=Math.sqrt(T+P*P);if(!(1<=U)){var D=4*(B+H*o);I+=(v=2*U*U*U-3*U*U+1)*g[3+D],z+=v,g[3+D]<255&&(v=v*g[3+D]/250),M+=v*g[D],S+=v*g[1+D],w+=v*g[2+D],b+=v}}u[y]=M/b,u[1+y]=S/b,u[2+y]=w/b,u[3+y]=I/z}r?(t.width=e,t.height=i):c.clearRect(0,0,o,s),c.putImageData(l,0,0)}}(o,a.width,a.height)),this.cropToOutputType(t,o,a)}}return null},n.prototype.getImagePosition=function(){var t=this.sourceImage.nativeElement,e=this.originalSize.width/t.offsetWidth;return{x1:Math.round(this.cropper.x1*e),y1:Math.round(this.cropper.y1*e),x2:Math.min(Math.round(this.cropper.x2*e),this.originalSize.width),y2:Math.min(Math.round(this.cropper.y2*e),this.originalSize.height)}},n.prototype.cropToOutputType=function(t,e,i){var r=this;switch(t){case"file":return this.cropToFile(e).then(function(t){return i.file=t,r.imageCropped.emit(i),i});case"both":return i.base64=this.cropToBase64(e),this.cropToFile(e).then(function(t){return i.file=t,r.imageCropped.emit(i),i});default:return i.base64=this.cropToBase64(e),this.imageCropped.emit(i),i}},n.prototype.cropToBase64=function(t){var e=t.toDataURL("image/"+this.format,this.getQuality());return this.imageCroppedBase64.emit(e),e},n.prototype.cropToFile=function(t){var e=this;return this.getCanvasBlob(t).then(function(t){return t&&e.imageCroppedFile.emit(t),t})},n.prototype.getCanvasBlob=function(t){var i=this;return new Promise(function(e){t.toBlob(function(t){return i.zone.run(function(){return e(t)})},"image/"+i.format,i.getQuality())})},n.prototype.getQuality=function(){return Math.min(1,Math.max(0,this.imageQuality/100))},n.prototype.getResizeRatio=function(t,e){if(0<this.resizeToWidth){if(!this.onlyScaleDown||t>this.resizeToWidth)return this.resizeToWidth/t}else if(0<this.resizeToHeight&&(!this.onlyScaleDown||e>this.resizeToHeight))return this.resizeToHeight/e;return 1},n.prototype.getClientX=function(t){return t.clientX||t.touches&&t.touches[0]&&t.touches[0].clientX},n.prototype.getClientY=function(t){return t.clientY||t.touches&&t.touches[0]&&t.touches[0].clientY},n);function n(t,e,i){this.sanitizer=t,this.cd=e,this.zone=i,this.setImageMaxSizeRetries=0,this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.marginLeft="0px",this.imageVisible=!1,this.format="png",this.outputType="both",this.maintainAspectRatio=!0,this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.containWithinAspectRatio=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage="center",this.startCropImage=new r.EventEmitter,this.imageCropped=new r.EventEmitter,this.imageCroppedBase64=new r.EventEmitter,this.imageCroppedFile=new r.EventEmitter,this.imageLoaded=new r.EventEmitter,this.cropperReady=new r.EventEmitter,this.loadImageFailed=new r.EventEmitter,this.initCropper()}a.decorators=[{type:r.Component,args:[{selector:"image-cropper",template:'\n      <div [style.background]="imageVisible && backgroundColor">\n          <img\n              #sourceImage\n              class="source-image"\n              [src]="safeImgDataUrl"\n              [style.visibility]="imageVisible ? \'visible\' : \'hidden\'"\n              (load)="imageLoadedInView()"\n          />\n          <div class="cropper"\n               *ngIf="imageVisible"\n               [class.rounded]="roundCropper"\n               [style.top.px]="cropper.y1"\n               [style.left.px]="cropper.x1"\n               [style.width.px]="cropper.x2 - cropper.x1"\n               [style.height.px]="cropper.y2 - cropper.y1"\n               [style.margin-left]="alignImage === \'center\' ? marginLeft : null"\n               [style.visibility]="imageVisible ? \'visible\' : \'hidden\'"\n          >\n              <div\n                      (mousedown)="startMove($event, \'move\')"\n                      (touchstart)="startMove($event, \'move\')"\n                      class="move"\n              >&nbsp;</div>\n              <span\n                      class="resize topleft"\n                      (mousedown)="startMove($event, \'resize\', \'topleft\')"\n                      (touchstart)="startMove($event, \'resize\', \'topleft\')"\n              ><span class="square"></span></span>\n              <span\n                      class="resize top"\n              ><span class="square"></span></span>\n              <span\n                      class="resize topright"\n                      (mousedown)="startMove($event, \'resize\', \'topright\')"\n                      (touchstart)="startMove($event, \'resize\', \'topright\')"\n              ><span class="square"></span></span>\n              <span\n                      class="resize right"\n              ><span class="square"></span></span>\n              <span\n                      class="resize bottomright"\n                      (mousedown)="startMove($event, \'resize\', \'bottomright\')"\n                      (touchstart)="startMove($event, \'resize\', \'bottomright\')"\n              ><span class="square"></span></span>\n              <span\n                      class="resize bottom"\n              ><span class="square"></span></span>\n              <span\n                      class="resize bottomleft"\n                      (mousedown)="startMove($event, \'resize\', \'bottomleft\')"\n                      (touchstart)="startMove($event, \'resize\', \'bottomleft\')"\n              ><span class="square"></span></span>\n              <span\n                      class="resize left"\n              ><span class="square"></span></span>\n              <span\n                      class="resize-bar top"\n                      (mousedown)="startMove($event, \'resize\', \'top\')"\n                      (touchstart)="startMove($event, \'resize\', \'top\')"\n              ></span>\n              <span\n                      class="resize-bar right"\n                      (mousedown)="startMove($event, \'resize\', \'right\')"\n                      (touchstart)="startMove($event, \'resize\', \'right\')"\n              ></span>\n              <span\n                      class="resize-bar bottom"\n                      (mousedown)="startMove($event, \'resize\', \'bottom\')"\n                      (touchstart)="startMove($event, \'resize\', \'bottom\')"\n              ></span>\n              <span\n                      class="resize-bar left"\n                      (mousedown)="startMove($event, \'resize\', \'left\')"\n                      (touchstart)="startMove($event, \'resize\', \'left\')"\n              ></span>\n          </div>\n      </div>\n    ',styles:["\n      :host {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        position: relative;\n        width: 100%;\n        max-width: 100%;\n        max-height: 100%;\n        overflow: hidden;\n        padding: 5px;\n        text-align: center;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none; }\n        :host > div {\n          position: relative;\n          width: 100%; }\n          :host > div img.source-image {\n            max-width: 100%;\n            max-height: 100%; }\n        :host .cropper {\n          position: absolute;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          color: #53535C;\n          background: transparent;\n          outline-color: rgba(255, 255, 255, 0.3);\n          outline-width: 100vw;\n          outline-style: solid;\n          -ms-touch-action: none;\n              touch-action: none; }\n          @media (orientation: portrait) {\n            :host .cropper {\n              outline-width: 100vh; } }\n          :host .cropper:after {\n            position: absolute;\n            content: '';\n            top: 0;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            pointer-events: none;\n            border: dashed 1px;\n            opacity: .75;\n            color: inherit;\n            z-index: 1; }\n          :host .cropper .move {\n            width: 100%;\n            cursor: move;\n            border: 1px solid rgba(255, 255, 255, 0.5); }\n          :host .cropper .resize {\n            position: absolute;\n            display: inline-block;\n            line-height: 6px;\n            padding: 8px;\n            opacity: .85;\n            z-index: 1; }\n            :host .cropper .resize .square {\n              display: inline-block;\n              background: #53535C;\n              width: 6px;\n              height: 6px;\n              border: 1px solid rgba(255, 255, 255, 0.5);\n              -webkit-box-sizing: content-box;\n                      box-sizing: content-box; }\n            :host .cropper .resize.topleft {\n              top: -12px;\n              left: -12px;\n              cursor: nwse-resize; }\n            :host .cropper .resize.top {\n              top: -12px;\n              left: calc(50% - 12px);\n              cursor: ns-resize; }\n            :host .cropper .resize.topright {\n              top: -12px;\n              right: -12px;\n              cursor: nesw-resize; }\n            :host .cropper .resize.right {\n              top: calc(50% - 12px);\n              right: -12px;\n              cursor: ew-resize; }\n            :host .cropper .resize.bottomright {\n              bottom: -12px;\n              right: -12px;\n              cursor: nwse-resize; }\n            :host .cropper .resize.bottom {\n              bottom: -12px;\n              left: calc(50% - 12px);\n              cursor: ns-resize; }\n            :host .cropper .resize.bottomleft {\n              bottom: -12px;\n              left: -12px;\n              cursor: nesw-resize; }\n            :host .cropper .resize.left {\n              top: calc(50% - 12px);\n              left: -12px;\n              cursor: ew-resize; }\n          :host .cropper .resize-bar {\n            position: absolute;\n            z-index: 1; }\n            :host .cropper .resize-bar.top {\n              top: -11px;\n              left: 11px;\n              width: calc(100% - 22px);\n              height: 22px;\n              cursor: ns-resize; }\n            :host .cropper .resize-bar.right {\n              top: 11px;\n              right: -11px;\n              height: calc(100% - 22px);\n              width: 22px;\n              cursor: ew-resize; }\n            :host .cropper .resize-bar.bottom {\n              bottom: -11px;\n              left: 11px;\n              width: calc(100% - 22px);\n              height: 22px;\n              cursor: ns-resize; }\n            :host .cropper .resize-bar.left {\n              top: 11px;\n              left: -11px;\n              height: calc(100% - 22px);\n              width: 22px;\n              cursor: ew-resize; }\n          :host .cropper.rounded {\n            outline-color: transparent; }\n            :host .cropper.rounded:after {\n              border-radius: 100%;\n              -webkit-box-shadow: 0 0 0 100vw rgba(255, 255, 255, 0.3);\n                      box-shadow: 0 0 0 100vw rgba(255, 255, 255, 0.3); }\n              @media (orientation: portrait) {\n                :host .cropper.rounded:after {\n                  -webkit-box-shadow: 0 0 0 100vh rgba(255, 255, 255, 0.3);\n                          box-shadow: 0 0 0 100vh rgba(255, 255, 255, 0.3); } }\n            :host .cropper.rounded .move {\n              border-radius: 100%; }\n    "],changeDetection:r.ChangeDetectionStrategy.OnPush}]}],a.ctorParameters=function(){return[{type:i.DomSanitizer},{type:r.ChangeDetectorRef},{type:r.NgZone}]},a.propDecorators={sourceImage:[{type:r.ViewChild,args:["sourceImage"]}],imageFileChanged:[{type:r.Input}],imageChangedEvent:[{type:r.Input}],imageBase64:[{type:r.Input}],format:[{type:r.Input}],outputType:[{type:r.Input}],maintainAspectRatio:[{type:r.Input}],aspectRatio:[{type:r.Input}],resizeToWidth:[{type:r.Input}],resizeToHeight:[{type:r.Input}],cropperMinWidth:[{type:r.Input}],cropperMinHeight:[{type:r.Input}],roundCropper:[{type:r.Input}],onlyScaleDown:[{type:r.Input}],imageQuality:[{type:r.Input}],autoCrop:[{type:r.Input}],backgroundColor:[{type:r.Input}],containWithinAspectRatio:[{type:r.Input}],cropper:[{type:r.Input}],alignImage:[{type:r.HostBinding,args:["style.text-align"]},{type:r.Input}],startCropImage:[{type:r.Output}],imageCropped:[{type:r.Output}],imageCroppedBase64:[{type:r.Output}],imageCroppedFile:[{type:r.Output}],imageLoaded:[{type:r.Output}],cropperReady:[{type:r.Output}],loadImageFailed:[{type:r.Output}],onResize:[{type:r.HostListener,args:["window:resize"]}],moveImg:[{type:r.HostListener,args:["document:mousemove",["$event"]]},{type:r.HostListener,args:["document:touchmove",["$event"]]}],moveStop:[{type:r.HostListener,args:["document:mouseup"]},{type:r.HostListener,args:["document:touchend"]}]};var p=function h(){};p.decorators=[{type:r.NgModule,args:[{imports:[e.CommonModule],declarations:[a],exports:[a]}]}],p.ctorParameters=function(){return[]},t.ImageCropperModule=p,t.ImageCropperComponent=a,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng2-image-crop.umd.min.js.map
