{"version":3,"file":"angular-jasper.service.js","sourceRoot":"","sources":["../src/angular-jasper.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,sCAA2C;AAE3C;IAAA;IAIA,CAAC;IAAD,0BAAC;AAAD,CAAC,AAJD,IAIC;AAJD,kDAIC;AAGD;IAII,uBAAY,MAA0B;QAClC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAErB,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAED,qCAAa,GAAb;QAAA,iBAeC;QAdG,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAE9C,IAAI,CAAC,gBAAgB,GAAG,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAChD,MAAM,CAAC,YAAY,CAAC,KAAK,EAAK,KAAI,CAAC,MAAM,CAAC,MAAM,yBAAsB,CAAC,CAAC;YACxE,MAAM,CAAC,MAAM,GAAG;gBACZ,MAAM,CAAC,WAAW,CAAC,CAAC;oBAChB,IAAI,EAAE;wBACF,IAAI,EAAE,KAAI,CAAC,MAAM,CAAC,KAAK;wBACvB,QAAQ,EAAE,KAAI,CAAC,MAAM,CAAC,QAAQ;qBACjC;iBACJ,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;YACxB,CAAC,CAAC;YACF,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACP,CAAC;IACL,oBAAC;AAAD,CAAC,AA1BD,IA0BC;AA1BD;IADC,iBAAU,EAAE;qCAKU,mBAAmB;iBAsBzC;AA1BY,wBAAA,aAAa,CAAA","sourcesContent":["import { Injectable } from '@angular/core';\n\nexport class AngularJasperConfig {\n    server:string;\n    login:string;\n    password:string;\n}\n\n@Injectable()\nexport class AngularJasper {\n    config:AngularJasperConfig;\n    visualizePromise:Promise<any>;\n\n    constructor(config:AngularJasperConfig) {\n        this.config = config;\n\n        this.loadVisualize();\n    }\n\n    loadVisualize() {\n        var script = document.createElement('script');\n\n        this.visualizePromise = new Promise((resolve, reject) => {\n            script.setAttribute('src', `${this.config.server}/client/visualize.js`);\n            script.onload = () => {\n                window['visualize']({\n                    auth: {\n                        name: this.config.login,\n                        password: this.config.password\n                    }\n                }, resolve, reject);\n            };\n            document.body.appendChild(script);\n        });\n    }\n}"]}